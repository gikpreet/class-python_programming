= Module 09: Python 클래스와 상속(Inheritance)

== 지난 시간

* 클래스를 통한 추상 데이터 타입(Abstract Data Type)
* `Coordinate` 예제
* `Fraction` 예제

== 오늘

* 클래스에 대해 더 알아봄
** getter와 setter
** 정보 은닉(information hiding)
* Inheritance(상속)

== 클래스 구현 vs. 클래스 사용

* 두 가지 다른 관점에서 코드 작성

* 클래스 구현 관점
** 클래스를 사용하여 새로운 객체 타입 **구현**
*** 클래스 **정의**
*** **데이터 속성** 정의 (그 객체는 무엇인가)
*** **메소드** 정의 (객체를 사용하는 방법)

* 클래스 사용 관점
** 코드에서 새 객체 타입 **사용**
*** 객체 타입의 인스턴스 생성
*** 생성한 인스턴스로 연산(operations) 수행

== 객체 유형의 클래스 정의 인스턴스 vs. 클래스의 인스턴스

* 객체 유형의 클래스 정의 인스턴스
** 클래스 이름은 **타입**
+
----
class Coordinate(object)
----
+
** 클래스는 일반적으로 정의됨
*** 클래스를 정의하는 동안 `self` 를 사용하여 일부 인스턴스를 참조
+
----
(self.x - self.y)**2
----
+
*** `self` 는 클래스 정의의 메소드에 대핸 파라미터
** 클래스는 **모든 인스턴스에 공통되는** 데이터와 메소드를 정의함

* 클래스의 인스턴스
** 인스턴스는 하나의 특정 객체
+
---- 
coord = Coordinate(1, 2)
----
+
** 데이터 속성 값은 인스턴스마다 다름
+
----
c1 = Coordinate(1, 2)
c2 = Coordinate(3, 4)
----
+
** `c1` 과 `c2` 는 서로 다른 객체이므로, 서로 다른 데이터 속성 값 `c1.x` 와 `c2.x` 를 가짐
** 인스턴스는 **클래스의 구조**를 가짐

== 왜 OOP, Class와 Object를 사용하는가?

* 실생활을 흉내 냄
* 동일한 타입의 서로 다른 객체 부분을 그룹화

image:./images/image01.png[]

image:./images/image02.png[]

== 겍체 그룹은 속성을 가짐

* **데이터 속성(Data attribute)**
** 객체의 데이터를 어떻게 표현할 것인가?
** **데이터 속성이란 무엇인가?**
** _좌표를 위해서: x와 y 값_
** _동물을 위해서: 나이, 이름_
* **절차적 속성(Procedual attribute)** (behavior/operations/**methods**/)
** 객체와 어떻게 상호작용 할 것인가?
** _좌표를 위해서: 두 좌표간의 거리 찾기_
** _동물을 위해서: 소리 만들기_

== 클래스 정의

image:./images/image03.png[]

== getter와 setter 메소드

[source, python]
----
class Animal(object):
    def __init__(self, age):
        self.age = age
        self.name = None
    
    def get_age(self):      # getter
        return self.age

    def get_name(self):     # getter
        return self.name
    
    def set_age(self, newage):      # setter
        self.age = newage
    
    def set_name(self, newname=""): # setter
        self.name = newname
    
    def __str__(self):
        return "animal: " + str(self.name) + ": " + str(self.age)
----

* **getter와 setter**는 클래스 외부에서 데이터 속성에 액세스 할 수 있어야 함

== 인스턴스와 dot notation

* 인스턴스화(instantiation)은 객체의 인스턴스를 생성함

[source, python]
----
a = Animal(3)
----

* **dot notation** 으로 데이터 속성에 액세스 할 수 있음 (getter와 setter를 사용하는 것이 바람직함)

[source, python]
----
a.age
a.get_age
----

== 정보 은닉(Information hiding)

* 작성자는 클래스 정의의 **데이터 속성 변수 이름을 변경**할 수 있음

[source, python]
----
class Animal(object):
    def __init__(self, age):
        self.years = age    # age 데이터 속성을 years로 변경
    
    def get_age(self):
        return self.years
----

* 클래스 외부에서 **데이터 속성에 접근**하려 하고, **정의가 변경**되었다면, 오류가 발생함
* 클래스 외부에서는 `a.age` 형태의 데이터 속성에 대한 직접 액세스 보다는 `a.get_age()` 형태의 getter와 setter를 사용
** 좋은 스타일
** 코드를 유지 관리하기 쉬움
** 버그 방지

== Python은 정보 은닉에 좋지 않음

* 클래스 외부에서 **데이터 액세스**를 허용함
+
[source, python]
----
print(a.age)
----
+
* 클래스 외부에서 **데이터에 쓰기**를 허용함
+
[source, python]
----
a.age = 'infinite'
----
+
* 클래스 외부에서 **데이터 속성의 생성**을 허용함
+
[source, python]
----
a.size = "tiny"
----

* 이는 좋은 스타일이 아님!

== Default argument

* formal parameter를 위한 **기본 인자(default argument)**는 actual parameter가 주어지지 않았을 때 사용됨
+
[source, python]
----
def set_name(self, newname=""):
    self.name = newname
----
+
* default argument 사용
+
[source, python]
----
a = Animal(3)
a.set_name()
print(a.get_name())     # "" 를 출력
----
+
* argument를 전달하며 메소드 호출
+
[source, python]
----
a = Animal(3)
a.set_name("fluffy")
print(a.get_name())
----

== 계층구조(Hierarhies)

image:./images/image04.png[]

* **parent class**(superclass)
* **child class**(subclass)
** parent class의 모든 데이터(data)와 행위(behavior)를 **상속(Inherits)**함
** **더 많은** 정보를 ***더함**
** **더 많은** 행위를 더함
** 행위를 **오버라이드(override)**

image:./images/image05.png[]

== Inheritance: Parent class

[source, python]
----
class Animal(object):
    def __init__(self, age):
        self.age = age
        self.name = None

    def get_age(self):
        return self.age

    def get_name(self):
        return self.name

    def set_age(self, newage):
        self.age = newage

    def set_name(self, newname=""):
        self.name = newname

    def __str__(self):
        return "animal:"+str(self.name)+":"+str(self.age)
----

* 클래스 선언 Animal의 object
** 모든 것은 객체
** class `object` 는 Python의 기본 동작(operation)들을 구현

== Inheritance: Subclass